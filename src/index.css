@tailwind base;
@tailwind components;
@tailwind utilities;

/* MagicQC Brand Theme - Touch Optimized */
@layer base {
    * {
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
    }

    html {
        font-size: 16px;
        scroll-behavior: smooth;
    }

    body {
        @apply bg-surface text-primary font-sans antialiased;
        font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    }
}

@layer components {

    /* Card Component - Brand Teal Accents */
    .card {
        @apply bg-white rounded-xl border border-slate-200/80;
        box-shadow: 0 1px 4px rgba(38, 76, 89, 0.06), 0 2px 8px rgba(38, 76, 89, 0.04);
    }

    .card:hover {
        box-shadow: 0 4px 12px rgba(38, 76, 89, 0.1), 0 2px 4px rgba(38, 76, 89, 0.06);
    }

    /* Touch-Friendly Labels */
    label {
        @apply text-touch-sm font-semibold text-slate-500 tracking-tight;
    }

    /* Touch Select - 56px minimum height */
    .touch-select {
        @apply w-full px-4 py-3 min-h-[56px] border-2 border-slate-200 rounded-xl bg-white text-primary text-touch-base font-semibold;
        @apply focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none;
        @apply disabled:bg-slate-50 disabled:text-slate-400 disabled:cursor-not-allowed;
        @apply transition-all duration-150;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23264c59'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 20px;
        padding-right: 40px;
    }

    /* Touch Button Base - 56px height */
    .touch-btn {
        @apply inline-flex items-center justify-center gap-2 px-6 min-h-[56px] rounded-xl;
        @apply text-touch-base font-bold transition-all duration-150;
        @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    }

    .touch-btn-primary {
        @apply touch-btn bg-primary text-white;
        @apply hover:bg-primary-dark active:bg-primary-dark;
        @apply focus:ring-primary/40;
        box-shadow: 0 4px 12px rgba(38, 76, 89, 0.3);
    }

    .touch-btn-primary:hover {
        box-shadow: 0 6px 16px rgba(38, 76, 89, 0.4);
    }

    .touch-btn-secondary {
        @apply touch-btn bg-secondary text-white;
        @apply hover:bg-secondary-dark active:bg-secondary-dark;
        @apply focus:ring-secondary/40;
        box-shadow: 0 4px 12px rgba(247, 165, 54, 0.3);
    }

    .touch-btn-outline {
        @apply touch-btn bg-white text-primary border-2 border-primary;
        @apply hover:bg-primary hover:text-white active:bg-primary-dark;
        @apply focus:ring-primary/40;
    }

    .touch-btn-ghost {
        @apply touch-btn bg-slate-100 text-slate-500;
        @apply hover:bg-slate-200 active:bg-slate-300;
        @apply focus:ring-slate-300;
    }

    /* Size Pills - Touch Friendly */
    .size-pill {
        @apply min-w-[72px] min-h-[52px] px-4 py-3 rounded-xl;
        @apply text-touch-base font-bold text-slate-500;
        @apply border-2 border-slate-200 bg-white;
        @apply hover:border-primary hover:text-primary hover:bg-surface-teal;
        @apply transition-all duration-150;
    }

    .size-pill-active {
        @apply min-w-[72px] min-h-[52px] px-4 py-3 rounded-xl;
        @apply text-touch-base font-bold text-white;
        @apply bg-primary border-2 border-primary;
        box-shadow: 0 4px 12px rgba(38, 76, 89, 0.3);
    }

    /* Tolerance Control - Touch Arrows */
    .tol-control {
        @apply flex items-center gap-1 bg-surface-teal rounded-xl p-1;
    }

    .tol-btn {
        @apply w-10 h-10 flex items-center justify-center rounded-lg;
        @apply bg-white text-primary font-bold text-touch-lg;
        @apply hover:bg-primary hover:text-white active:bg-primary-dark;
        @apply transition-all duration-150;
        box-shadow: 0 1px 3px rgba(38, 76, 89, 0.1);
    }

    .tol-input {
        @apply w-16 h-10 px-2 text-center text-touch-base font-bold text-primary;
        @apply bg-white border-2 border-slate-200 rounded-lg;
        @apply focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none;
        @apply [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none;
    }

    /* Badge Styles */
    .badge {
        @apply inline-flex items-center px-3 py-1.5 rounded-lg text-touch-sm font-bold;
    }

    .badge-success {
        @apply badge bg-success-light text-success;
    }

    .badge-error {
        @apply badge bg-error-light text-error;
    }

    .badge-warning {
        @apply badge bg-warning-light text-secondary;
    }

    .badge-primary {
        @apply badge bg-surface-teal text-primary;
    }

    /* Action Bar - Fixed Bottom */
    .action-bar {
        @apply flex items-center gap-4 px-5 py-4 bg-white border-t-2 border-slate-100;
        box-shadow: 0 -4px 16px rgba(38, 76, 89, 0.08);
    }

    /* Header with Brand */
    .header-brand {
        @apply flex items-center gap-4 px-5 py-3 bg-white border-b-2 border-slate-100;
        box-shadow: 0 2px 8px rgba(38, 76, 89, 0.06);
    }

    /* Table Styles - Touch Optimized */
    .touch-table {
        @apply w-full text-touch-sm;
    }

    .touch-table thead {
        @apply bg-surface-teal sticky top-0 z-10;
    }

    .touch-table th {
        @apply px-3 py-4 text-left text-touch-sm font-bold text-primary uppercase tracking-wider;
    }

    .touch-table tbody tr {
        @apply border-b border-slate-100 hover:bg-surface-teal/50 transition-colors;
    }

    .touch-table td {
        @apply px-3 py-4 text-touch-base;
    }
}

/* Custom Scrollbar - Brand Colors */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    @apply bg-slate-100 rounded-full;
}

::-webkit-scrollbar-thumb {
    @apply bg-primary/30 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-primary/50;
}

/* Thin Horizontal Scrollbar for Sliders */
.scrollbar-thin::-webkit-scrollbar {
    height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-slate-100 rounded-full;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-primary/20 rounded-full;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-primary/40;
}

/* Focus Visible Ring */
:focus-visible {
    @apply outline-none ring-2 ring-primary/30 ring-offset-2;
}

/* Selection Color */
::selection {
    @apply bg-secondary/30 text-primary;
}

/* Hidden Scrollbar - Still Scrollable */
.scrollbar-hide {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
    display: none;
    /* Chrome, Safari, Opera */
}

/* Dark Mode Styles */
.dark {
    --color-surface: #0f172a;
    --color-surface-dark: #020617;
    --color-primary: #14b8a6;
    --color-secondary: #f59e0b;
    --color-text: #f1f5f9;
}

.dark body {
    @apply bg-slate-900 text-slate-100;
}

.dark .card {
    background-color: #1e293b !important;
    border-color: #334155 !important;
}

.dark header {
    background-color: #0f172a !important;
    border-color: #1e293b !important;
}

/* Keep white backgrounds for brand logos */
.brand-logo-bg {
    background-color: #ffffff !important;
}

.dark .bg-white:not(.brand-logo-bg) {
    background-color: #1e293b !important;
}

.dark .bg-surface {
    background-color: #0f172a !important;
}

.dark .bg-surface-teal {
    background-color: #134e4a !important;
}

.dark .text-primary {
    color: #2dd4bf !important;
}

.dark .text-secondary {
    color: #fbbf24 !important;
}

.dark .text-slate-400 {
    color: #94a3b8 !important;
}

.dark .text-slate-500 {
    color: #64748b !important;
}

.dark .text-slate-600,
.dark .text-slate-700 {
    color: #cbd5e1 !important;
}

.dark .border-slate-100,
.dark .border-slate-200 {
    border-color: #334155 !important;
}

.dark .border-primary {
    border-color: #14b8a6 !important;
}

.dark table thead {
    background-color: #1e293b !important;
}

.dark table tbody tr:hover {
    background-color: #334155 !important;
}

.dark input,
.dark select {
    background-color: #1e293b !important;
    border-color: #475569 !important;
    color: #f1f5f9 !important;
}

.dark input:focus,
.dark select:focus {
    border-color: #14b8a6 !important;
}

/* Dark mode buttons */
.dark .touch-btn-primary {
    background-color: #14b8a6 !important;
}

.dark .touch-btn-secondary {
    background-color: #334155 !important;
    color: #f1f5f9 !important;
}

/* Dark mode popup/modal */
.dark .bg-black\/40 {
    background-color: rgba(0, 0, 0, 0.6) !important;
}

/* Settings popup in dark mode */
.dark .bg-slate-50 {
    background-color: #1e293b !important;
}